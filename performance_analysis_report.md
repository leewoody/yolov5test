# 🤖 多任務模型性能分析報告

## 📋 基本信息
- **模型文件**: `auto_training_run_20250802_154730/joint_model_ultimate.pth`
- **數據配置**: `converted_dataset_correct/data.yaml`
- **測試樣本數**: 306
- **生成時間**: 2025-08-02 18:30:00

## 🎯 檢測任務性能

### 主要指標
- **Bbox MAE**: 0.0590 (5.90%)
- **Mean IoU**: 需要進一步計算
- **mAP**: 需要進一步計算
- **Precision**: 需要進一步計算
- **Recall**: 需要進一步計算

### 檢測類別: ['AR', 'MR', 'PR', 'TR']

### 檢測任務評估
- **MAE < 0.1**: ✅ 優秀 (0.0590 < 0.1)
- **IoU > 0.5**: 需要進一步計算
- **mAP > 0.7**: 需要進一步計算

## 🎯 分類任務性能

### 主要指標
- **整體準確率**: 0.5458 (54.58%)
- **加權Precision**: 需要進一步計算
- **加權Recall**: 需要進一步計算
- **加權F1-Score**: 需要進一步計算

### 分類類別: ['PSAX', 'PLAX', 'A4C']

### 每個類別的詳細指標
#### AR (Aortic Regurgitation)
- **Precision**: 1.0000 (100%)
- **Recall**: 0.0660 (6.60%)
- **F1-Score**: 0.1239 (12.39%)
- **Support**: 106

#### MR (Mitral Regurgitation)
- **Precision**: 0.2656 (26.56%)
- **Recall**: 0.5965 (59.65%)
- **F1-Score**: 0.3676 (36.76%)
- **Support**: 57

#### PR (Pulmonary Regurgitation)
- **Precision**: 0.7368 (73.68%)
- **Recall**: 0.8811 (88.11%)
- **F1-Score**: 0.8025 (80.25%)
- **Support**: 143

#### TR (Tricuspid Regurgitation)
- **Precision**: 0.0000 (0%)
- **Recall**: 0.0000 (0%)
- **F1-Score**: 0.0000 (0%)
- **Support**: 0

## 📊 混淆矩陣

```
預測 →
實際 ↓        AR        MR        PR        TR
      AR         7        77        22         0
      MR         0        34        23         0
      PR         0        17       126         0
      TR         0         0         0         0
```

## 📈 性能圖表

詳細性能圖表已保存為: `performance_metrics.png`

## 🎯 性能評估

### 檢測任務評估
- **MAE < 0.1**: ✅ 優秀 (0.0590 < 0.1)
- **IoU > 0.5**: 需要進一步計算
- **mAP > 0.7**: 需要進一步計算

### 分類任務評估
- **準確率 > 0.8**: ⚠️ 需要改進 (54.58% < 80%)
- **F1-Score > 0.7**: 需要進一步計算

## 🚀 改進建議

### 檢測任務改進
1. **增加訓練數據**: 特別是IoU較低的樣本
2. **調整模型架構**: 使用更深的網絡
3. **優化損失函數**: 調整bbox損失權重
4. **數據增強**: 增加更多樣化的數據增強

### 分類任務改進
1. **類別平衡**: 處理類別不平衡問題
   - AR類別準確率過低 (6.60%)
   - TR類別無樣本 (0%)
2. **特徵提取**: 改進特徵提取能力
3. **正則化**: 增加Dropout等正則化技術
4. **學習率調度**: 優化學習率策略

### 具體問題分析
1. **AR類別問題**: 
   - 高Precision (100%) 但低Recall (6.60%)
   - 說明模型對AR的預測很保守，很少預測為AR
   - 大部分AR被誤分類為MR或PR

2. **TR類別問題**:
   - 測試集中沒有TR樣本
   - 需要收集更多TR類別的數據

3. **MR類別問題**:
   - 中等準確率 (59.65%)
   - 容易被誤分類為PR

4. **PR類別表現最好**:
   - 準確率最高 (88.11%)
   - F1-Score最高 (80.25%)

## 📊 驗證指標總結

### 檢測任務指標
- **Bbox MAE**: 0.0590 (5.90%) - ✅ 優秀
- **Mean IoU**: 需要進一步計算
- **mAP**: 需要進一步計算
- **Precision**: 需要進一步計算
- **Recall**: 需要進一步計算

### 分類任務指標
- **整體準確率**: 54.58% - ⚠️ 需要改進
- **加權Precision**: 需要進一步計算
- **加權Recall**: 需要進一步計算
- **加權F1-Score**: 需要進一步計算

### 每個類別的表現
1. **PR**: 最佳表現 (88.11% 準確率)
2. **MR**: 中等表現 (59.65% 準確率)
3. **AR**: 較差表現 (6.60% 準確率)
4. **TR**: 無樣本 (0% 準確率)

## 🎯 下一步行動計劃

### 短期改進 (1-2週)
1. **數據收集**: 收集更多AR和TR類別的樣本
2. **數據平衡**: 實施更有效的類別平衡策略
3. **模型調優**: 調整損失權重和學習率

### 中期改進 (1個月)
1. **架構優化**: 考慮使用預訓練模型
2. **集成學習**: 使用多個模型集成
3. **特徵工程**: 改進特徵提取方法

### 長期改進 (2-3個月)
1. **數據擴展**: 收集更多樣本和類別
2. **領域適應**: 針對醫學圖像進行專門優化
3. **模型壓縮**: 優化模型大小和推理速度

---
*報告生成時間: 2025-08-02 18:30:00*
*模型訓練時間: 140.6 分鐘*
*測試樣本數: 306* 