# 類別表現詳細分析報告

## 📊 數據集類別分布統計

### 總體統計
- **總樣本數**: 1,138 個
- **類別數**: 4 個
- **數據集**: 訓練集 (832) + 測試集 (306)

### 各類別詳細分布

| 類別 | 總樣本數 | 佔比 | 訓練集 | 測試集 | 驗證集 |
|------|----------|------|--------|--------|--------|
| **MR** | 499 | 43.85% | 442 (88.6%) | 57 (11.4%) | 0 |
| **PR** | 441 | 38.75% | 298 (67.6%) | 143 (32.4%) | 0 |
| **AR** | 198 | 17.40% | 92 (46.5%) | 106 (53.5%) | 0 |
| **TR** | 0 | 0.00% | 0 | 0 | 0 |

## 🎯 類別表現分析

### 1. **MR (Mitral Regurgitation - 二尖瓣反流)**
- **樣本數量**: 499 個 (最多)
- **準確率**: 82.46% (最高)
- **表現分析**: 
  - ✅ **最佳表現** - 樣本充足，模型學習效果好
  - ✅ **數據充足** - 佔總數據集的 43.85%
  - ✅ **訓練充分** - 88.6% 的樣本用於訓練

### 2. **PR (Pulmonary Regurgitation - 肺動脈反流)**
- **樣本數量**: 441 個 (第二多)
- **準確率**: 71.33% (中等)
- **表現分析**:
  - ⚠️ **中等表現** - 樣本充足但準確率不如 MR
  - ✅ **數據充足** - 佔總數據集的 38.75%
  - ⚠️ **測試集較多** - 32.4% 用於測試，可能影響訓練效果

### 3. **AR (Aortic Regurgitation - 主動脈反流)**
- **樣本數量**: 198 個 (最少)
- **準確率**: 58.49% (較差)
- **表現分析**:
  - ❌ **表現較差** - 準確率明顯低於其他類別
  - ⚠️ **樣本不足** - 僅佔總數據集的 17.40%
  - ⚠️ **測試集過多** - 53.5% 用於測試，訓練樣本不足

### 4. **TR (Tricuspid Regurgitation - 三尖瓣反流)**
- **樣本數量**: 0 個
- **準確率**: 0.00% (無數據)
- **表現分析**:
  - ❌ **完全缺失** - 數據集中沒有任何 TR 樣本
  - ❌ **無法學習** - 模型無法學習此類別的特徵

## 🔍 問題分析

### 1. **類別不平衡問題**
- **不平衡比例**: 2.52:1 (MR vs AR)
- **影響**: 模型偏向於樣本較多的類別
- **嚴重程度**: 中度不平衡

### 2. **樣本分布問題**
- **AR 類別**: 訓練樣本過少 (92 個)，測試樣本過多 (106 個)
- **TR 類別**: 完全缺失，無法進行分類
- **驗證集**: 所有類別都沒有驗證集樣本

### 3. **數據質量問題**
- **缺乏驗證集**: 無法進行有效的模型驗證
- **測試集分布不均**: AR 類別測試樣本過多

## 💡 改進建議

### 1. **數據收集與平衡**
```
優先級 1: 收集 TR 類別樣本
- 目標: 至少 100-200 個 TR 樣本
- 方法: 醫學影像收集、數據增強

優先級 2: 平衡 AR 類別
- 目標: 增加 AR 訓練樣本至 200-300 個
- 方法: 過採樣、數據增強、額外收集
```

### 2. **數據集重構**
```
建議的數據集分布:
- 訓練集: 70% (AR: 140+, MR: 350+, PR: 310+, TR: 70+)
- 驗證集: 15% (AR: 30+, MR: 75+, PR: 65+, TR: 15+)
- 測試集: 15% (AR: 30+, MR: 75+, PR: 65+, TR: 15+)
```

### 3. **模型優化策略**
```
針對 AR 類別:
- 使用 Focal Loss 處理樣本不平衡
- 增加 AR 類別的損失權重
- 使用過採樣技術

針對 TR 類別:
- 收集真實 TR 樣本
- 使用遷移學習
- 考慮多標籤分類策略
```

### 4. **訓練策略調整**
```
- 使用分層採樣確保每個 batch 包含所有類別
- 實施早停機制防止過擬合
- 使用學習率調度器
- 監控每個類別的單獨準確率
```

## 📈 預期改進效果

### 短期目標 (1-2 週)
- **AR 準確率**: 58.49% → 70%+
- **整體準確率**: 提升 5-10%

### 中期目標 (1 個月)
- **TR 類別**: 收集樣本並達到 60%+ 準確率
- **所有類別**: 達到 75%+ 準確率

### 長期目標 (2-3 個月)
- **整體準確率**: 達到 85%+
- **類別平衡**: 所有類別準確率差異 < 10%

## 🎯 關鍵指標監控

### 每日監控
- 每個類別的訓練準確率
- 驗證準確率變化趨勢
- 損失函數收斂情況

### 每週評估
- 混淆矩陣分析
- 各類別 F1-score
- 模型泛化能力

### 每月總結
- 整體性能提升
- 類別平衡改善
- 新數據收集進度

---

**結論**: 當前模型在 MR 和 PR 類別表現良好，但 AR 類別需要更多訓練樣本，TR 類別需要收集數據。通過數據平衡和模型優化，預期可以顯著提升整體分類性能。 